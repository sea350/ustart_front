<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>UStart Project - {{.Project.ProjectData.Name}}</title>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.7.1/slick.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.7.1/slick-theme.min.css">
    <link rel="stylesheet" type="text/css" href="https://rawgit.com/swisnl/jQuery-contextMenu/master/dist/jquery.contextMenu.min.css">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" type="text/css" href="/ustart_front/css/modal-links.css">
    <link rel="stylesheet" type="text/css" href="/ustart_front/css/widget.css">
    <link rel="stylesheet" type="text/css" href="/ustart_front/css/widget-gallery.css">
    <link rel="stylesheet" type="text/css" href="/ustart_front/css/widget-text.css">
    <link rel="stylesheet" type="text/css" href="/ustart_front/css/socialMedia.css">
    <link rel="stylesheet" type="text/css" href="/ustart_front/css/proj.css"/>
    <link rel="stylesheet" type="text/css" href="/ustart_front/css/projects.css">
    <link rel="stylesheet" type="text/css" href="/ustart_front/css/profile.css">
    <script src="https://cdn.jsdelivr.net/npm/slick-carousel@1.7.1/slick/slick.min.js"></script>
    <script src="https://rawgit.com/swisnl/jQuery-contextMenu/master/dist/jquery.contextMenu.min.js"></script>
    <script src="/ustart_front/ckeditor/ckeditor.js"></script>
    <script src="/ustart_front/ckeditor/config.js"></script>
    <script src="/ustart_front/js/profile-nil.js"></script>
	<script src="/ustart_front/js/layout_tags.js"></script>
    <script src="/ustart_front/js/jquery.rss.min.js"></script>
    <script src="/ustart_front/js/widgets.js"></script>
    <script src="/ustart_front/js/widget-gallery.js"></script>
    <script src="/ustart_front/js/notify.min.js"></script>
    <script src="/ustart_front/js/projects.js"></script>
    <script src="/ustart_front/js/ascii-convert.js"></script>
    <script type="text/javascript" src="//assets.pinterest.com/js/pinit.js" data-pin-build="doBuild"></script>
    <script src="/ustart_front/js/createPosts.js"></script>
    <script type="text/javascript">
        var permission = -1;
        var IDArray = [];
        var port = 5002;
        $(function () {
			if (permission < 0) {
				$("#widget-insert, .fa-pencil, .fa-sort, .fa-trash").remove();
			}
            // Enables drag-n-drop list items (using the header)
            $("#sortable").sortable({
                handle: ".widgetTitle",
                revert: true,
                tolerance: "pointer"
            });
            // Enables resizable list items
            /* $("#sortable>li").resizable({
                animate: true,
                ghost: true,
                resize: function (event, ui) {
                    ui.size.width = ui.originalSize.width;
                }
            }); */
        });
    </script>
	{{$userid := .DOCID}}
	{{$projectid := .Project.DocID}}
	{{$projecturl := .Project.ProjectData.URLName}}
</head>

<body>
    {{range $loop := .Project.ProjectData.EntryIDs}}
        <script>IDArray.push('{{$loop}}');</script>
    {{end}}
    <input type="hidden" id="pageiden" value='{{.Project.DocID}}'>
    <input type="hidden" id="followstat">
    <div id="centering">
		<img id="head-image">
		<script>
			$('#head-image').attr('src', {{.Project.ProjectData.Banner}});
		</script>
        <!-- Vertical content -->
        <div id="content" class="container">
            <div>
                <div class="followers-cont flex">
                    <div class="followers-link-cont">
						{{range $member := .Project.MemberData}}
                        <a href="/profile/{{$member.Username}}" class="followers-link">
							<img id="imgFollow{{$member.Username}}" class="followers-mini img-rounded img-responsive" alt="Project Image">
						</a>
						<script>
							$('#imgFollow{{$member.Username}}').attr('src', {{$member.Image}});
						</script>
						{{end}}
                    </div>
                    <div class="project-toolbar">
                        <button class="project-message btn btn-default" style="display: none;"><i class="fa fa-envelope"></i></button>
                        {{if eq ($.Project.RequestAllowed) true}}
                        <form action="/RequestToJoin/" method="POST" style="display: inline-block;">
                            <input type="hidden" name="projID" value='{{.Project.DocID}}'>
                            <button class="project-btn-follow btn btn-default" onclick = '$(this).closest("form").submit();'>
                                <span>Request to join</span>
                            </button>
                        </form>
                        {{end}}
                        <button class="project-btn-follow btn btn-default">
                            <div class="project-btn-text-followers">
                                <strong id="project-follow-count">{{len .Project.ProjectData.Members}}</strong>
                                <span>Followers</span>
                            </div>
                        </button>
				{{range $member := .Project.MemberData}}
					{{if eq $userid $member.DocID}}
						{{$memberValidity := $member.Classification}}
                        <script>
                            permission= {{$memberValidity}};
                        </script>
						<div class="dropdown dropdown-btn">
							<button class="project-options btn btn-default dropdown-toggle" data-toggle="dropdown"><i class="fa fa-gear"></i></button>
							<ul class="dropdown-menu dropdown-menu-right">
								<span style="display:none">{{$memberValidity}}</span>
								{{if le $memberValidity 1}}<li><a href="#" style="padding: 0.5em 1em;" data-toggle="modal" data-target="#project-member-add"><i class="fa fa-paw"></i> Recruit Members</a></li>{{end}}
								{{if le $memberValidity 1}}<li><a style="padding: 0.5em 1em;" href="/ProjectSettings/{{$projecturl}}"><i class="fa fa-gear"></i> Edit Settings</a></li>{{end}}
								{{if ne $memberValidity 0}}<li><a style="padding: 0.5em 1em;" href="#" data-toggle="modal" data-target="#project-leave"><i class="fa fa-fire"></i> Leave Project</a></li>{{end}}
							</ul>
						</div>
						<form id="project-leave-form" action="/leaveProject/" style="display:none">
							<input type="hidden" name="leaverID" value="{{$userid}}"/>
							<input type="hidden" name="projectID" value="{{$projectid}}"/>
						</form>
                        <div id="project-leave" class="modal fade" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Leaving Project</h4>
                                    </div>
                                    <div class="modal-body">
										Confirm that you want to leave this project
                                    </div>
                                    <div class="modal-footer">
                                        <button type="submit" class="btn btn-primary" form="project-leave-form">Leave</button>
                                        <button type="button" class="btn btn-info" data-dismiss="modal">Cancel</button>
                                    </div>
                                </div>
                            </div>
                        </div>
						{{if le $memberValidity 2}}
                        <div id="floating-widget-editor">
                            <span id="widget-status">Edit Mode</span>
                            <button class="btn btn-info"><i class="fa fa-pencil-square-o"></i></button>
                        </div>
						<script>
							var editMode = true;
							$('#floating-widget-editor .btn').click(function() {
								if (editMode) {
									// Change to View Mode
									$('#widget-status').text('Preview Mode');
									editMode = false;
									if (!$("#tagsWidget .projectsColumn").length) {
										$("#tagsWidget").parent("li").hide("fast");	
									}
									if (!$("#links-container a").length) {
										$("#linksWidget").parent("li").hide("fast");
									}
									$('#widget-insert, .project-options, .widgetTitle .fa-pencil, .widgetListItem .fa-pencil, .widgetListItem .fa-trash, .widgetListItem .fa-sort').hide("fast");
								} else {
									$('#widget-status').text('Edit Mode');
									editMode = true;
									$("#tagsWidget").parent("li").show("fast");	
									$("#linksWidget").parent("li").show("fast");
									$('#widget-insert, .project-options, .widgetTitle .fa-pencil, .widgetListItem .fa-pencil, .widgetListItem .fa-trash, .widgetListItem .fa-sort').show("fast");
								}
							});
						</script>
						{{else}}
						<script>
							$(document).ready(function() {
								$('#widget-insert, .widgetListItem .fa-pencil, .widgetListItem .fa-trash, .widgetListItem .fa-sort, [data-project-visible="false"]').remove();
							});
						</script>
						{{end}}
					{{end}}
				{{end}}
                    </div>
                </div>
                <div class="dashboard-top panel panel-default">
                    <div class="panel-body flex">
                        <div class="dashboard-top-left flex flex-grow flex-col">
                            <div class="detail-head col-xs-12">Tagline</div>
                            <div id="project-desc" class="flex-grow col-xs-12">
								<!-- ADDDESCRIPTION -->
								<script>readRuneArray({{.Project.ProjectData.Description}});</script>
							</div>
                        </div>
                        <div class="dashboard-top-mid">
                            <img id="project-logo" class="img-circle img-responsive"/>
							<script>
								$('#project-logo').attr('src', {{.Project.ProjectData.Avatar}});
							</script>
                        </div>
                        <div class="dashboard-top-right flex-grow">
                            <!-- <div> -->
                                <!-- <div class="detail-head">Website <i id="editLink" class="fa fa-pencil-square-o"></i></div> -->
                                <!-- <div class="detail-content"> -->
                                    <!-- <p><a id="project-website" href="http://www.ustart.today/">http://www.ustart.today/</a></p> -->
                                <!-- </div> -->
                            <!-- </div> -->
                            <div class="col-xs-4">
                                <div class="detail-head"><i class="fa fa-clock-o" aria-hidden="true"></i> Creation Date</div>
                                <div id="project-create-date" class="detail-content">
									<script>
										document.write(new Date({{.Project.ProjectData.CreationDate}}).toLocaleDateString());
									</script>
                                </div>
                            </div>
							{{if .Project.ProjectData.Category}}
                            <div class="col-xs-4">
                                <div class="detail-head"><i class="fa fa-list-ul" aria-hidden="true"></i> Category</div>
                                <div id="project-category" class="detail-content">
									{{.Project.ProjectData.Category}}
                                </div>
                            </div>
							{{end}}
							{{if .Project.ProjectData.Location.Country}}
                            <div class="col-xs-4">
                                <div class="detail-head"><i class="fa fa-map-marker" aria-hidden="true"></i> Location</div>
                                <div id="project-location" class="detail-content">
									{{.Project.ProjectData.Location.City}}, {{.Project.ProjectData.Location.State}}, {{.Project.ProjectData.Location.Country}} {{.Project.ProjectData.Location.Zip}}
                                </div>
                            </div>
							{{end}}
                        </div>
                    </div>
                    <h3 id="project-name">
						<!-- ADDPROJECTNAME -->
						{{.Project.ProjectData.Name}}
					</h3>
                </div>
                <ul class="nav nav-tabs nav-justified proj-tabs">
                    <li class="active"><a data-toggle="tab" href="#proj-about">Showcase</a></li>
                    <li class=""><a data-toggle="tab" id="Wall-loadAJAX" href="#prof-wall">Posts</a></li>
                    <li class=""><a data-toggle="tab" href="#proj-team">Members</a></li>
                </ul>
                <div class="tab-content">
                    <div id="proj-about" class="tab-pane fade in active">
                        <ul id="sortable">
                            <li id="widget-insert" class="ui-state-default">
								<div class="projectsWidgetCont">
									<div class="widgetTitle">
										<h4>Insert new widget</h4>
									</div>
									<div class="widgetBody">
										<button id="addTextWidget" class="btn btn-default projectsColumn">
											<div class="columnImage">
												<img src="/ustart_front/img/png/text.png" />
												<div class="columnTitle">Custom Text</div>
											</div>
										</button>
										<button id="calendarWidgetBtn" class="btn btn-default projectsColumn" style="display:none">
											<div class="columnImage">
												<img src="/ustart_front/img/png/calendar_g.png" />
												<div class="columnTitle">Google Calendar</div>
											</div>
										</button>
										<button id="PollWidgetBtn" class="btn btn-default projectsColumn" style="display:none">
											<div class="columnImage">
												<img src="/ustart_front/img/png/poll.png" />
												<div class="columnTitle">
													Poll
												</div>
											</div>
										</button>
										<button id="igWidgetBtn" class="btn btn-default projectsColumn">
											<div class="columnImage">
												<img src="/ustart_front/img/png/instagram.png" />
												<div class="columnTitle">
													Instagram
												</div>
											</div>
										</button>
										<button id="scWidgetBtn" class="btn btn-default projectsColumn">
											<div class="columnImage">
												<img src="/ustart_front/img/png/soundcloud.png" />
												<div class="columnTitle">
													SoundCloud
												</div>
											</div>
										</button>
										<button id="ytWidgetBtn" class="btn btn-default projectsColumn">
											<div class="columnImage">
												<img src="/ustart_front/img/png/youtube-1.png" />
												<div class="columnTitle">
													YouTube
												</div>
											</div>
										</button>
										<button id="addCodePenWidget" class="btn btn-default projectsColumn">
											<div class="columnImage">
												<img src="/ustart_front/img/png/codepen.png" />
												<div class="columnTitle">
													CodePen
												</div>
											</div>
										</button>
										<button id="addPinterestWidget" class="btn btn-default projectsColumn">
											<div class="columnImage">
												<img src="/ustart_front/img/png/pinterest.png" />
												<div class="columnTitle">
													Pinterest
												</div>
											</div>
										</button>
										<button id="addTumblrWidget" class="btn btn-default projectsColumn">
											<div class="columnImage">
												<img src="/ustart_front/img/png/twitter-2.png" />
												<div class="columnTitle">
													Tumblr
												</div>
											</div>
										</button>
										<button id="addSpotifyWidget" class="btn btn-default projectsColumn">
											<div class="columnImage">
												<img src="/ustart_front/img/png/spotify.png" />
												<div class="columnTitle">
													Spotify
												</div>
											</div>
										</button>
										<button id="arWidgetBtn" class="btn btn-default projectsColumn">
											<div class="columnImage">
												<img src="/ustart_front/img/png/anchor.png" />
												<div class="columnTitle">
													Anchor
												</div>
											</div>
										</button>
										<button id="mediumWidgetBtn" class="btn btn-default projectsColumn">
											<div class="columnImage">
												<img src="/ustart_front/img/png/medium.png" />
												<div class="columnTitle">
													Medium
												</div>
											</div>
										</button>
										<button id="daWidgetBtn" class="btn btn-default projectsColumn">
											<div class="columnImage">
												<img src="/ustart_front/img/png/deviantart.png" />
												<div class="columnTitle">
													DeviantArt
												</div>
											</div>
										</button>
										<button id="twitchWidgetBtn" class="btn btn-default projectsColumn">
											<div class="columnImage">
												<img src="/ustart_front/img/png/twitch.png" />
												<div class="columnTitle">
													Twitch
												</div>
											</div>
										</button>
										<button id="addGithubWidget" class="btn btn-default projectsColumn">
											<div class="columnImage">
												<img src="/ustart_front/img/png/github.png" />
												<div class="columnTitle">
													Github
												</div>
											</div>
										</button>
									</div>
								</div>
							</li>
							<!-- skill widget-->
							<li class="ui-state-default">
								<div id="tagsWidget" class="projectsWidgetCont">
									<div class="widgetTitle">
										<span class="pull-right fa fa-2x fa-pencil" data-toggle="modal" data-target="#tagModal"></span>
										<h4>Skills Wanted</h4>
									</div>
									<div id="hashTagsBody" class="widgetBody">
									</div>       
									{{range $loop := .Project.ProjectData.Tags}}
									{{if ne ($loop) ""}}
									<script>
										$(document).ready(function() {
											createTagWidgetElement({{$loop}});
										});
									</script>
									{{end}}
									{{end}}
								</div>
							</li> <!--end skill widget -->
							<!-- link widget-->
							<script src="/ustart_front/js/layout_links.js"></script>
							<li class="ui-state-default widgetListItem sortable">
								<div id="linksWidget" class="projectsWidgetCont">
									<div class="widgetTitle">
										<span class="pull-right fa fa-2x fa-pencil" data-toggle="modal" data-target="#addLinkModal"></span>
										<h4>Links</h4>
									</div>
									<div class="widgetBody">
									<div class="links-container"></div>
									{{range $loop := .Project.ProjectData.QuickLinks}}
										{{if ne ($loop.URL) ""}}
										<script>
											$(document).ready(function() {
												createLink({{$loop.URL}},{{$loop.Name}});
											});
										</script>
										{{end}}
									{{end}}
									</div>
								</div>
							</li><!--end link widget -->
                            <!-- for loop goes here -->
						{{$projecturl := .Project.ProjectData.URLName}}
                        {{range $loop := .Widgets }}
						{{if eq $loop.Classification 0}}<!-- if is text -->  
                            <li class="text ui-state-default" id="{{index $loop.ID}}">
                                <div class="projectsWidgetCont">
                                    <div class="widgetTitle">
										<span class="pull-right fa fa-2x fa-sort"></span>
										<script>
											function focusDesc() {
												document.getElementById('text-box').focus();
											}
										</script>
										<span class="pull-right fa fa-2x fa-pencil" onclick="ApplyTextModalID(this)"></span>
										<form id="delete{{index $loop.ID}}" action="/deleteProjectWidget/" method="POST">
                                            <input id="deleteProjectURL" class="form-control" name="deleteProjectURL" type="hidden" value="{{$projecturl}}" required/>
											<input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
											<span name="delete" class="pull-right fa fa-2x fa-trash" onclick="$(this).closest('form').submit();"></span>
										</form>
                                        <h4 id="text-title" name="textEditorHeader">
                                             {{index $loop.Data 0}}
                                        </h4>
                                    </div>
                                    <div class="widgetBody">
                                        <div id="text-box" class="text-box" name="textEditorBody">
                                           {{index $loop.Data 1}}
                                        </div>
                                    </div>
                                </div>
                            </li>
                        {{end}}<!-- end text -->
                        {{if eq $loop.Classification 4}}
                            <li class="ui-state-default widgetListItem sortable" id={{index $loop.ID}}>
                                <div class="projectsWidgetCont">
                                    <div class="widgetTitle">
                                        <span class="pull-right fa fa-2x fa-sort"></span>
                                        <span class="pull-right fa fa-2x fa-pencil" id="ig-edit" onclick="instagramEditor(this)"></span>
                                        <form id="delete{{index $loop.ID}}" action="/deleteProjectWidget/" method="POST">
                                            <input id="deleteProjectURL" class="form-control" name="deleteProjectURL" type="hidden" value="{{$projecturl}}" required/>
                                             <input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
                                            <span name="delete" class="pull-right fa fa-2x fa-trash" onclick="$(this).closest('form').submit();"></span>
                                        </form>
                                        <h4>Instagram</h4>
                                    </div>
                                    <div id="widgetBodyID" class="widgetBody widgetBodyInstagram">
                                         {{range $loop2 := $loop.Data }}
                                         <!-- loop through the data loop for multiple instagram posts -->
                                        <div class="insta-feed"><blockquote class="instagram-media" data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:62.5% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div><p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;"><a href="{{$loop2}}" style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;" target="_blank"></a></p></div></blockquote> <script async defer src="//platform.instagram.com/en_US/embeds.js"></script></div>
                                        {{end}} <!--end data loop -->
                                    </div>
                                </div>
                            </li>
                        {{end}}<!--end instagram -->
                    
                        {{if eq $loop.Classification 5}}   
                            <li class="ui-state-default widgetListItem sortable" id={{index $loop.ID}}>
                                <div class="projectsWidgetCont">
                                    <div class="widgetTitle">
                                        <span class="pull-right fa fa-2x fa-sort"></span>
                                        <span class="pull-right fa fa-2x fa-pencil" id="sc-edit" onclick="ApplyIDToModal('sc-modal', this)"></span>
                                        <form id="delete{{index $loop.ID}}" action="/deleteProjectWidget/" method="POST">
                                            <input id="deleteProjectURL" class="form-control" name="deleteProjectURL" type="hidden" value="{{$projecturl}}" required/>
                                            <input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
                                            <span class="pull-right fa fa-2x fa-trash" onclick="$(this).closest('form').submit();"></span>
                                        </form>
                                        <h4>Soundcloud</h4>
                                    </div>
                                    <div id= "widgetBodySC" class="widgetBody">
                                        {{index $loop.Data 0}}
                                    </div>
                                </div>
                            </li>
                        {{end}}<!--end soundcloud -->
                         {{if eq $loop.Classification 6}}   
                            <li class="ui-state-default widgetListItem sortable" id={{index $loop.ID}}>
                                <div class="projectsWidgetCont">
                                    <div class="widgetTitle">
                                        <span class="pull-right fa fa-2x fa-sort"></span>
                                        <span class="pull-right fa fa-2x fa-pencil" id="yt-edit" onclick="ApplyIDToModal('youtubeModal', this)"></span>
                                        <form id="delete{{index $loop.ID}}" action="/deleteProjectWidget/" method="POST">
                                            <input id="deleteProjectURL" class="form-control" name="deleteProjectURL" type="hidden" value="{{$projecturl}}" required/>
											<input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
											<span class="pull-right fa fa-2x fa-trash" onclick="$(this).closest('form').submit();"></span>
                                        </form>
                                        <h4>Youtube</h4>
                                    </div>
                                    <div class="widgetBody">
                                        <div class="youtube-feed">
                                            <script>
                                                var youtubeEmbedded= YouTubeGetID({{index $loop.Data 0}});
                                                document.write(' <iframe width="560" height="315" src="https://www.youtube.com/embed/'+youtubeEmbedded+'" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>');
                                            </script>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        {{end}}<!--end youtube -->
                        {{if eq $loop.Classification 7}}  
                            <li class="ui-state-default widgetListItem sortable" id={{index $loop.ID}}>
                                <div class="projectsWidgetCont">
                                    <div class="widgetTitle">
                                        <span class="pull-right fa fa-2x fa-sort"></span>
                                        <span class="pull-right fa fa-2x fa-pencil" id="code-edit" onclick="ApplyIDToModal('code-modal', this)"></span>
                                        <form id="delete{{index $loop.ID}}" action="/deleteProjectWidget/" method="POST">
                                            <input id="deleteProjectURL" class="form-control" name="deleteProjectURL" type="hidden" value="{{$projecturl}}" required/>
                                            <input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
                                            <span class="pull-right fa fa-2x fa-trash" onclick="$(this).closest('form').submit();"></span>
                                        </form>
                                        <h4 name="textEditorHeader">CodePen</h4>
                                    </div>
                                    <div id="widgetBodyCode" class="widgetBody cpEmbeded">
                                       {{index $loop.Data 0}}
                                    </div>
                                </div>
                            </li>
                        {{end}}<!--end codePen -->
                        {{if eq $loop.Classification 9}}  
                            <li class="ui-state-default widgetListItem sortable" id={{index $loop.ID}}>
                                <div class="projectsWidgetCont">
                                    <div class="widgetTitle">
                                        <span class="pull-right fa fa-2x fa-sort"></span>
                                        <span class="pull-right fa fa-2x fa-pencil" id="tumblr-edit"onclick="ApplyIDToModal('tumblr-modal', this)"></span>
                                        <form id="delete{{index $loop.ID}}" action="/deleteProjectWidget/" method="POST">
                                            <input id="deleteProjectURL" class="form-control" name="deleteProjectURL" type="hidden" value="{{$projecturl}}" required/>
                                            <input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
                                            <span class="pull-right fa fa-2x fa-trash" onclick="$(this).closest('form').submit();"></span>
                                        </form>
                                        <h4 name="textEditorHeader">Tumblr</h4>
                                    </div>
                                    <div id= "widgetBodyTumblr" class="widgetBody">
                                        <script>
                                            $( document ).ready(function() {
											   tumblrRender({{index $loop.Data 0}});
                                            });
										</script>
                                    </div>
                                </div>
                            </li>
                        {{end}} <!--end Tumblr -->
                        {{if eq $loop.Classification 8}} <!--pinterest-->
                        <li class="ui-state-default widgetListItem sortable" id={{index $loop.ID}}>
                            <div class="projectsWidgetCont">
                            <div class="widgetTitle">
                                <span class="pull-right fa fa-2x fa-sort"></span>
                                <span class="pull-right fa fa-2x fa-pencil" id="pin-edit" onclick="pinterestEditor(this)"></span>
                                <form id="delete{{index $loop.ID}}" action="/deleteProjectWidget/" method="POST">
                                            <input id="deleteProjectURL" class="form-control" name="deleteProjectURL" type="hidden" value="{{$projecturl}}" required/>
                                    <input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
                                    <span class="pull-right fa fa-2x fa-trash" onclick="$(this).closest('form').submit();"></span>
                                </form>
                                <h4 name="textEditorHeader">
                                    Pinterest
                                </h4>
                            </div>
                            <div id="widgetBodyPin" class="widgetBody">
                                <script>
                                    $( document ).ready(function() {
                                    {{range $loop2 := $loop.Data }}
                                        pinRender({{$loop2}});
                                    {{end}}
                                    });
                                </script>
                            </div>
                        </div>
                        </li>
                        {{end}}<!-- end pinterest-->
                        {{if eq $loop.Classification 10}} <!--spotify-->
                            <li class="ui-state-default widgetListItem sortable" id="{{index $loop.ID}}">
                            <div class="projectsWidgetCont">
                            <div class="widgetTitle">
                                <span class="pull-right fa fa-2x fa-sort"></span>
                                <span class="pull-right fa fa-2x fa-pencil" id="spot-edit" onclick="spotifyEditor(this)"></span>
                                <form id="delete{{index $loop.ID}}" action="/deleteProjectWidget/" method="POST">
                                            <input id="deleteProjectURL" class="form-control" name="deleteProjectURL" type="hidden" value="{{$projecturl}}" required/>
                                    <input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
                                    <span class="pull-right fa fa-2x fa-trash" onclick="$(this).closest('form').submit();"></span>
                                </form>
                                <h4 name="textEditorHeader">Spotify</h4>
                            </div>
                            <div id="widgetBodySpot" class="widgetBody">
                                 {{range $loop2 := $loop.Data }}
                                        {{$loop2}}
                                 {{end}}
                            </div>
                            </div>
                        </li>
                        {{end}} <!-- end spotify -->
                        {{if eq $loop.Classification 14}}  <!--twitch-->
                            <li class="ui-state-default widgetListItem sortable" id={{index $loop.ID}}>
                                <div class="projectsWidgetCont">
                                    <div class="widgetTitle">
                                    <span class="pull-right fa fa-2x fa-sort"></span>
                                    <span class="pull-right fa fa-2x fa-pencil" id="twitch-edit" onclick="ApplyIDToModal('twitch-modal', this)"></span>
                                    <form id="delete{{index $loop.ID}}" action="/deleteProjectWidget/" method="POST">
                                            <input id="deleteProjectURL" class="form-control" name="deleteProjectURL" type="hidden" value="{{$projecturl}}" required/>
                                        <input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
                                        <span class="pull-right fa fa-2x fa-trash" onclick="$(this).closest('form').submit();"></span>
                                    </form>
                                    <h4>Twitch</h4>
                                    </div>
                                     <div id="widgetBodyTwitch" class="widgetBody">
                                        <iframe src="https://player.twitch.tv/?channel={{index $loop.Data 0}}" frameborder="0" allowfullscreen="true" scrolling="no" height="640" width="100%"></iframe>
                                    </div>
                                </div>
                            </li>
                        {{end}}<!--end twitch -->
                        {{if eq $loop.Classification 11}}  <!--anchor--> 
                        <li class="ui-state-default widgetListItem sortable" id={{index $loop.ID}}>
                                <div class="projectsWidgetCont">
                                    <div class="widgetTitle">
                                    <span class="pull-right fa fa-2x fa-sort"></span>
                                    <span class="pull-right fa fa-2x fa-pencil" id="ar-edit" onclick="anchorEditor(this)"></span>
                                    <form id="delete{{index $loop.ID}}" action="/deleteProjectWidget/" method="POST">
                                            <input id="deleteProjectURL" class="form-control" name="deleteProjectURL" type="hidden" value="{{$projecturl}}" required/>
                                        <input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
                                        <span class="pull-right fa fa-2x fa-trash" onclick="$(this).closest('form').submit();"></span>
                                    </form>
                                    <h4>Anchor</h4>
                                    </div>
                                    <div id= "widgetBodyAR" class="widgetBody">
                                        {{range $loop2 := $loop.Data }}
                                        <div class="anchor-feed"><iframe src="{{$loop2}}" height="270px" width="400px" frameborder="0" scrolling="no"></iframe></div>
                                        {{end}}
                                    </div>
                                </div>
                           </li>  
                        {{end}} <!-- end anchor-->
                         {{if eq $loop.Classification 12}}
                        <li class="ui-state-default widgetListItem sortable" id={{index $loop.ID}}>
                                <div class="projectsWidgetCont">
                                    <div class="widgetTitle">
                                    <span class="pull-right fa fa-2x fa-sort"></span>
                                    <span class="pull-right fa fa-2x fa-pencil" id="med-edit" onclick="ApplyIDToModal('med-modal', this)"></span>
                                    <form id="delete{{index $loop.ID}}" action="/deleteProjectWidget/" method="POST">
                                            <input id="deleteProjectURL" class="form-control" name="deleteProjectURL" type="hidden" value="{{$projecturl}}" required/>
                                        <input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
                                        <span class="pull-right fa fa-2x fa-trash" onclick="$(this).closest('form').submit();"></span>
                                    </form>
                                    <h4>Medium</h4>
                                    </div>
                                    <div id="widgetBodyMed" class="widgetBody"></div>
                                        <script>
                                            $( document ).ready(function() {
                                            mediumRender({{index $loop.Data 0}},{{index $loop.Data 1}},{{index $loop.Data 2}},{{index $loop.Data 3}});
                                            });
                                        </script>
                                </div>
                            </li>
                        {{end}}
                        {{if eq $loop.Classification 13}} <!--deviant art-->
                            <li class="ui-state-default widgetListItem sortable" id={{index $loop.ID}}>
                                <div class="projectsWidgetCont">
                                    <div class="widgetTitle">
                                    <span class="pull-right fa fa-2x fa-sort"></span>
                                    <span class="pull-right fa fa-2x fa-pencil" id="da-edit"  onclick="ApplyIDToModal('da-modal', this)"></span>
                                    <form id="delete{{index $loop.ID}}" action="/deleteProjectWidget/" method="POST">
                                            <input id="deleteProjectURL" class="form-control" name="deleteProjectURL" type="hidden" value="{{$projecturl}}" required/>
                                        <input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
                                        <span class="pull-right fa fa-2x fa-trash" onclick="$(this).closest('form').submit();"></span>
                                    </form>
                                    <h4>DeviantArt</h4>
                                    </div>

                                    <div id="widgetBodyDA" class="widgetBody">
                                    </div>
                                    <script>
                                        $( document ).ready(function() {
                                            daRender({{index $loop.Data 0}},{{index $loop.Data 1}});
                                        });
                                    </script>
                                </div>
                            </li>
                            {{end}}<!--end deviant art-->
							<!-- Calendar -->
							{{if eq $loop.Classification 15}}
							<li class="ui-state-default widgetListItem sortable" id={{index $loop.ID}}>
								<div class="projectsWidgetCont">
									<div class="widgetTitle">
										<span class="pull-right fa fa-2x fa-sort"></span>
										<span class="pull-right fa fa-2x fa-pencil" id="cal-edit" onclick="ApplyIDToModal('cal-modal', this)"></span>
										<form id="delete{{index $loop.ID}}delete" action="/deleteWidget/" method="POST">
											<input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
											<span class="pull-right fa fa-2x fa-trash delete-widget" id="delete{{index $loop.ID}}"></span>
										</form>
										<h4>Calendar</h4>
									</div>
									<div id="widgetBodycal" class="widgetBody">
										<iframe src="{{index $loop.Data 0}}" style="border: 0; width: 100%; min-height: 30em;" frameborder="0"></iframe>
									</div>
								</div>
							</li>
							{{end}}
							<!-- End Calendar -->
                            <!-- Github Widget -->
                            {{if eq $loop.Classification 16}}
                            <li class="ui-state-default widgetListItem sortable" id={{index $loop.ID}}>
                                <div class="projectsWidgetCont">
                                    <div class="widgetTitle">
                                        <span class="pull-right fa fa-2x fa-sort"></span>
                                        <span class="pull-right fa fa-2x fa-pencil" id="git-edit" onclick="ApplyIDToModal('git-modal', this)"></span>
										<form id="delete{{index $loop.ID}}delete" action="/deleteWidget/" method="POST">
											<input id="deleteID" class="form-control" name="deleteID" type="hidden" value="{{index $loop.ID}}" required/>
											<span class="pull-right fa fa-2x fa-trash delete-widget" id="delete{{index $loop.ID}}"></span>
										</form>
                                        <h4>Github</h4>
                                    </div>
                                    <div id="widgetBodyGit" class="widgetBody">
                                        <script>
                                            $( document ).ready(function() {
											   githubRender({{index $loop.Data 0}});
                                            });
										</script>
                                    </div>
                                </div>
                            </li>
                            {{end}}
                        
                     {{end}}<!-- end for looper -->
                        </ul>
                    </div>
                    <script>
                        var userID = {{.DOCID}};
                        var pageID = {{.Project.DocID}};
                        console.log({{.Avatar}});
                         //render posts
                        $('body').on("click", "#Wall-loadAJAX", function(e) {
                            $("#new-post-img").attr("src",{{.Avatar}});
                            $("#post-msg").focus(function (e) {
                                var textbox = $("#post-msg");
                                textbox.animate({
                                    height: "100px"
                                }, 690);
                                if (textbox.val().length == 0) {
                                    $("#new-postSubmit").prop("disabled", true);
                                } else {
                                    $("#new-postSubmit").removeAttr("disabled");
                                }
                            });
                            $("#post-msg").keyup(function (e) {
                                var textbox = $("#post-msg");
                                if (textbox.val().length == 0) {
                                    $("#new-postSubmit").prop("disabled", true);
                                } else {
                                    $("#new-postSubmit").removeAttr("disabled");
                                }
                            });

                            $("#post-msg").blur(function (e) {
                                var textbox = $("#post-msg");
                                textbox.animate({
                                    height: "50px"
                                }, 690);
                            });
                            $.ajax({
                                        type: 'GET',
                                        url: 'http://ustart.today:'+port+'/AjaxLoadProjectEntries/',
                                        contentType: "application/json; charset=utf-8",
                                        data: {userID:pageID},
                                        success: function(data) {  
                                        },complete: function (jqXHR,status) {
                                             if(status == 'success' || status=='notmodified')
                                             {
                                                var temp = $.parseJSON(jqXHR.responseText);
                                                if (temp != null){
                                                    $('#wall-dataF').empty();
                                                    $('#shareModals').empty();
                                                    $('#editModals').empty();
                                                    $('#deleteModals').empty();
                                                    $('#commentModals').empty();
                                                    //if post greater than 5
                                                    if(temp.length > 5){
                                                        for (i=temp.length - 1; i > temp.length-6; i--){
                                                             if ((permission != -1 && userID == temp[i].Element.PosterID)|| (permission == 1) || (permission ==0)){
                                                                if (temp[i].Element.Classification == 2){
                                                                   console.log("rendering share post"); createSharedPost(temp[i].Image,temp[i].FirstName,temp[i].LastName,temp[i].ElementID,temp[i].Element.Content,temp[i].ReferenceElement.Element.Content,temp[i].ReferenceElement.FirstName,temp[i].ReferenceElement.LastName,temp[i].NumLikes, temp[i].NumReplies,temp[i].ReferenceElement.Element.TimeStamp, temp[i].Element.TimeStamp );
                                                                }
                                                                else if (temp[i].Element.Classification == 0){
                                                                     makePostApplications(temp[i].Image, temp[i].FirstName,temp[i].LastName,temp[i].Element.Content,temp[i].ElementID,temp[i].NumLikes, temp[i].NumReplies, temp[i].NumShares,temp[i].Element.TimeStamp);
                                                                }
                                                            }
                                                            else{
                                                                if (temp[i].Element.Classification == 2){
                                                                   console.log("rendering share post"); createBasicSharedPost(temp[i].Image,temp[i].FirstName,temp[i].LastName,temp[i].ElementID,temp[i].Element.Content,temp[i].ReferenceElement.Element.Content,temp[i].ReferenceElement.FirstName,temp[i].ReferenceElement.LastName,temp[i].NumLikes, temp[i].NumReplies,temp[i].ReferenceElement.Element.TimeStamp, temp[i].Element.TimeStamp );
                                                                }
                                                                else if (temp[i].Element.Classification == 0) {
                                                                     makeBasicPostApplications(temp[i].Image, temp[i].FirstName,temp[i].LastName,temp[i].Element.Content,temp[i].ElementID,temp[i].NumLikes, temp[i].NumReplies, temp[i].NumShares,temp[i].Element.TimeStamp);
                                                                }
                                                            }
                                                            $('#wall-dataF').append('<hr>');
                                                            
                                                        }
                                                    }
                                                    //if post less than 5 just render all
                                                    else{
                                                        for (i=temp.length-1; i >= 0; i--){
                                                             if ((permission != -1 && userID == temp[i].Element.PosterID)|| (permission == 1) || (permission ==0)){
                                                                if (temp[i].Element.Classification == 2){
                                                                   console.log("rendering share post"); createSharedPost(temp[i].Image,temp[i].FirstName,temp[i].LastName,temp[i].ElementID,temp[i].Element.Content,temp[i].ReferenceElement.Element.Content,temp[i].ReferenceElement.FirstName,temp[i].ReferenceElement.LastName,temp[i].NumLikes, temp[i].NumReplies,temp[i].ReferenceElement.Element.TimeStamp, temp[i].Element.TimeStamp );
                                                                }
                                                                else if (temp[i].Element.Classification == 0){
                                                                     makePostApplications(temp[i].Image, temp[i].FirstName,temp[i].LastName,temp[i].Element.Content,temp[i].ElementID,temp[i].NumLikes, temp[i].NumReplies, temp[i].NumShares,temp[i].Element.TimeStamp);
                                                                }
                                                            }
                                                            else{
                                                                if (temp[i].Element.Classification == 2){
                                                                   console.log("rendering share post"); createBasicSharedPost(temp[i].Image,temp[i].FirstName,temp[i].LastName,temp[i].ElementID,temp[i].Element.Content,temp[i].ReferenceElement.Element.Content,temp[i].ReferenceElement.FirstName,temp[i].ReferenceElement.LastName,temp[i].NumLikes, temp[i].NumReplies,temp[i].ReferenceElement.Element.TimeStamp, temp[i].Element.TimeStamp );
                                                                }
                                                                else if (temp[i].Element.Classification == 0) {
                                                                     makeBasicPostApplications(temp[i].Image, temp[i].FirstName,temp[i].LastName,temp[i].Element.Content,temp[i].ElementID,temp[i].NumLikes, temp[i].NumReplies, temp[i].NumShares,temp[i].Element.TimeStamp);
                                                                }
                                                            }
                                                            if (i != 0) {
                                                                $('#wall-dataF').append('<hr>');
                                                            }
                                                        }
                                                    }
                                                } 
                                             }
                                        },error: function(err) {
                                            console.log('wall Load failed: ');
                                            console.log(err);
                                        }
                            });
                        });
                         //render comments
                         $('body').on("click", ".comment-btn", function(e) {
                              var postID = e.currentTarget.id;
                              $.ajax({
                                        type: 'GET',
                                        url: 'http://ustart.today:'+port+'/AjaxLoadComments/',
                                        contentType: "application/json; charset=utf-8",
                                        data: {postID:postID},
                                        success: function(data) { 
                                        },complete: function (jqXHR,status) {
                                             if(status == 'success' || status=='notmodified')
                                             {
                                                var temp = $.parseJSON(jqXHR.responseText); 
                                                if (temp != null){
                                                     console.log(temp);
                                                     $('#comments-list'+postID).empty();
                                                     for (i=temp.length-1; i >= 0; i--){
                                                          if ((permission != -1 && userID == temp[i].Element.PosterID)|| (permission == 1) || (permission ==0)){
                                                            makeCommentApplications(postID, temp[i].Image, temp[i].FirstName, temp[i].LastName, temp[i].Element.Content, temp[i].ElementID,temp[i].NumReplies,temp[i].Element.TimeStamp);
                                                         }
                                                         else{
                                                            makeBasicCommentApplications(postID, temp[i].Image, temp[i].FirstName, temp[i].LastName, temp[i].Element.Content, temp[i].ElementID,temp[i].NumReplies,temp[i].Element.TimeStamp);
                                                         }
                                                     }
                                                }
                                                else{
                                                    $('#comments-list'+postID).empty();
                                                }
                                             }
                                        },error: function(err) {
                                            console.log('comment Load failed: ');
                                            console.log(err);
                                        }
                            });  
                         });
                         
                         //render comment of comments
                           $('body').on("click", ".view-replies", function(e) {
                               var postID =  e.currentTarget.getAttribute('myvalue');
                                $.ajax({
                                        type: 'GET',
                                        url: 'http://ustart.today:'+port+'/getComments/',
                                        contentType: "application/json; charset=utf-8",
                                        data: {PostID:postID, Pikachu:userID},
                                        success: function(data) {
                                        },complete: function (jqXHR,status) {
                                             if(status == 'success' || status=='notmodified')
                                             {
                                               var temp = $.parseJSON(jqXHR.responseText);
                                               if (temp != null){
                                                  $('#replies'+postID).empty();
                                                   $(e.currentTarget).hide();
                                                   for (i=temp.length-1; i >= 0; i--){
                                                       if ((permission != -1 && userID == temp[i].Element.PosterID)|| (permission == 1) || (permission ==0)){
                                                            makeCommentOfCommentsApplications(postID, temp[i].Image, temp[i].FirstName,temp[i].LastName, temp[i].Element.Content, temp[i].ElementID,temp[i].Element.TimeStamp);
                                                       }
                                                       else{
                                                            makeBasicCommentOfCommentsApplications(postID, temp[i].Image, temp[i].FirstName,temp[i].LastName, temp[i].Element.Content, temp[i].ElementID,temp[i].Element.TimeStamp);
                                                       }
                                                   }
                                               }
                                               else{
                                                   $('#replies'+postID).empty();
                                               }
                                             }
                                        },error: function(err) {
                                            console.log('comment Load failed: ');
                                            console.log(err);
                                            
                                        }
                                });
                          });
                         
                         //submit new post
                          $('body').on("click", "#new-postSubmit", function(e) {
                               var content = $("#post-msg").val();
                               $('#new-postSubmit').prop('disabled', true);
                               if (content != ""){
                                   console.log(content);
                                    console.log(pageID);
                                    $.ajax({
                                            type: 'GET',
                                            url: 'http://ustart.today:'+port+'/ProjectMakeEntry/',
                                            contentType: "application/json; charset=utf-8",
                                            data: {docID:pageID, text:content},
                                            success: function(data) {
                                            },complete: function (jqXHR,status) {
                                                 if(status == 'success' || status=='notmodified')
                                                 {
                                                   var temp = $.parseJSON(jqXHR.responseText);
                                                   console.log(temp);
                                                   if (temp != null){
                                                        if ($(".wallPosts").length >= 1){
                                                            $('#wall-dataF').prepend('<hr>');  
                                                        }
                                                        IDArray.push(temp.ElementID);
                                                        makeNewPostApplications(temp.Image, temp.FirstName,temp.LastName,temp.Element.Content,temp.ElementID,temp.NumLikes, temp.NumReplies, temp.NumShares,temp.Element.TimeStamp);
                                                   }
                                                   $("#post-msg").empty();
                                                   $('#new-postSubmit').prop('disabled', false);
    
                                                  }
                                            },error: function(err) {
                                                console.log('comment Load failed: ');
                                                console.log(err);
                                            }
                                    });
                                   }
                          });
                         //submit new comment
                          $('body').on("click", ".new-comment-submit", function(e) {
                               var postID = e.currentTarget.id;
                               var content = $("#commentContent"+postID).val();
                               $(e.currentTarget).css("pointer-events", "none");
                              if (content != ""){
                                $.ajax({
                                        type: 'GET',
                                        url: 'http://ustart.today:'+port+'/AddComment2/',
                                        contentType: "application/json; charset=utf-8",
                                        data: {postID:postID, body:content},
                                        success: function(data) {
                                        },complete: function (jqXHR,status) {
                                             if(status == 'success' || status=='notmodified')
                                             {
                                               var temp = $.parseJSON(jqXHR.responseText);
                                               if (temp != null){
                                                   makeNewCommentApplications(postID, temp[0].Image, temp[0].FirstName, temp[0].LastName, temp[0].Element.Content, temp[0].ElementID,temp[0].NumReplies,temp[0].Element.TimeStamp);
                                                   $("#commentContent"+postID).val('');
                                                   $(e.currentTarget).css("pointer-events", "auto"); 
                                                   var count = $(".standard-comment").length;
                                                   $("#num-replies"+postID).text(count);
                                               }
                                             }
                                        },error: function(err) {
                                            console.log('comment Load failed: ');
                                            console.log(err);
                                            
                                        }
                                });
                              }
                          });
                         
                         //submit comment of comment
                         $('body').on("click", ".new-comment-o-comment-submit", function(e) {
                               var postID = e.currentTarget.id;
                               var content = $("#comment2Content"+postID).val();
                               $(e.currentTarget).css("pointer-events", "none");
                               if (content != ""){
                                $.ajax({
                                        type: 'GET',
                                        url: 'http://ustart.today:'+port+'/AddComment2/',
                                        contentType: "application/json; charset=utf-8",
                                        data: {postID:postID, body:content},
                                        success: function(data) {
                                        },complete: function (jqXHR,status) {
                                             if(status == 'success' || status=='notmodified')
                                             {
                                               var temp = $.parseJSON(jqXHR.responseText);
                                               if (temp != null){
                                                 if ( $('#replies'+postID).is(':empty')){
                                                     var repliesNum = $('#replies'+postID).data('replycount');
                                                     var updated = repliesNum+1;
                                                     $('#replies'+postID).data('replycount', updated);
                                                     $("#comment2Content"+postID).val('');
                                                     $("#openReplies"+postID).css({ 'display': 'block'});
                                                     $("#openReplies"+postID).show();
                                                     $("#openReplies"+postID).text("View "+updated+" Replies");
                                                 }
                                                 else{
                                                      makeNewCommentOfCommentsApplications(postID, temp[0].Image, temp[0].FirstName,temp[0].LastName, temp[0].Element.Content, temp[0].ElementID,temp[0].Element.TimeStamp);   
                                                      var repliesNum = $('#replies'+postID).data('replycount');
                                                      var updated = repliesNum+1;
                                                      $('#replies'+postID).data('replycount', updated);
                                                      $("#comment2Content"+postID).val('');
                                                 }
                                                $(e.currentTarget).css("pointer-events", "auto"); 
                                               }
                                             }
                                        },error: function(err) {
                                            console.log('comment Load failed: ');
                                            console.log(err);
                                            
                                        }
                                });
                               }
                          });
                         
                         $('body').on("click", ".deletePost", function(e) {
                              var temp = e.currentTarget.id;
                              var postID = temp.replace("delete-btn",'');
                              $(e.currentTarget).prop('disabled', true);
                              var x = document.getElementsByClassName("wallPosts");
                              $.ajax({
                                        type: 'GET',
                                        url: 'http://ustart.today:'+port+'/AjaxDeleteProjectEntry/',
                                        contentType: "application/json; charset=utf-8",
                                        data: {projID:pageID, entryID:postID},
                                        success: function(data) {
                                        },complete: function (jqXHR,status) {
                                             if(status == 'success' || status=='notmodified')
                                             {
                                               for (i=0; i < x.length; i++){
                                                   if (x[i].id.substring(4) == postID){
                                                       if (i==0){
                                                            $("#Post"+postID).next("hr").remove();
                                                       }
                                                       else if (i==x.length-1){
                                                           $("#Post"+postID).prev("hr").remove();
                                                       }
                                                       else{
                                                            $("#Post"+postID).next("hr").remove();
                                                       }
                                                   }
                                               }
                                               $("#delete-modal"+postID).modal('toggle'); 
                                               for (i=0; i<IDArray.length; i++){
                                                   if (postID == IDArray[i]){
                                                       IDArray.splice(i, 1);
                                                   }
                                               }
                                               $("#Post"+postID).remove();
                                               $(e.currentTarget).prop('disabled', false);
                                             }
                                        },error: function(err) {
                                            console.log('comment Load failed: ');
                                            console.log(err);
                                            
                                        }
                                });
                         });
                         
                         $('body').on("click", ".share-postSubmit", function(e) {
                              var temp = e.currentTarget.id;
                              var postID = temp.replace("share-btn",'');
                              var content = $("#shared-content"+postID).val();
                              $(e.currentTarget).prop('disabled', true);
                              $.ajax({
                                        type: 'GET',
                                        url: 'http://ustart.today:'+port+'/shareEntry/',
                                        contentType: "application/json; charset=utf-8",
                                        data: {postid:postID, content:content},
                                        success: function(data) {
                                        },complete: function (jqXHR,status) {
                                             if(status == 'success' || status=='notmodified')
                                             {
                                              $(e.currentTarget).prop('disabled', false);
                                              $("#share-modal"+postID).modal('toggle'); 
                                             }
                                        },error: function(err) {
                                            console.log('comment Load failed: ');
                                            console.log(err);
                                            
                                        }
                                });
                         });
                         
                          $('body').on("click", ".edit-postSubmit", function(e) {
                              var temp = e.currentTarget.id;
                              var postID = temp.replace("edit-btn",'');
                              var content = $("#content"+postID).val();
                              $(e.currentTarget).prop('disabled', true);
                              $.ajax({
                                        type: 'GET',
                                        url: 'http://ustart.today:'+port+'/editPost/',
                                        contentType: "application/json; charset=utf-8",
                                        data: {postid:postID, content:content},
                                        success: function(data) {
                                        },complete: function (jqXHR,status) {
                                             if(status == 'success' || status=='notmodified')
                                             {
                                               var temp = $.parseJSON(jqXHR.responseText);
                                                  if (temp != null){
                                                        $("#post-msg"+postID).text(content);
                                                        $(e.currentTarget).prop('disabled', false);
                                                        $("#edit-modal"+postID).modal('toggle'); 
                                                  }
                                             }
                                        },error: function(err) {
                                            console.log('comment Load failed: ');
                                            console.log(err);
                                            
                                        }
                                });
                         });
                         
                         $('body').on("click", ".remove-comment", function(e) {
                              var temp = e.currentTarget.id;
                              var postID = temp.replace("removeComment",'');
                              e.preventDefault();
                              $.ajax({
                                        type: 'GET',
                                        url: 'http://ustart.today:'+port+'/deletePost/',
                                        contentType: "application/json; charset=utf-8",
                                        data: {postid:postID},
                                        success: function(data) {
                                        },complete: function (jqXHR,status) {
                                             if(status == 'success' || status=='notmodified')
                                             {
                                               $("#comment-media"+postID).remove();
                                               var temp = jqXHR.responseText;
                                                  if (temp != null){
                                                       console.log(temp);
                                                        var newcount = $(".standard-comment").length;
                                                        $("#num-replies"+temp).text(newcount);
                                                  }
                                             }
                                        },error: function(err) {
                                            console.log('comment Load failed: ');
                                            console.log(err);
                                        }
                                });
                         });
                         
                         $('body').on("click", ".remove-comment-o-comment", function(e) {
                              var temp = e.currentTarget.id;
                              var postID = temp.replace("removecomment2",'');
                              $.ajax({
                                        type: 'GET',
                                        url: 'http://ustart.today:'+port+'/deletePost/',
                                        contentType: "application/json; charset=utf-8",
                                        data: {postid:postID},
                                        success: function(data) {
                                        },complete: function (jqXHR,status) {
                                             if(status == 'success' || status=='notmodified')
                                             {
                                                 $("#commentOComment-media"+postID).remove();
                                             }
                                        },error: function(err) {
                                            console.log('comment Load failed: ');
                                            console.log(err);
                                            
                                        }
                                });
                         });
                         
                         //wall scroll code
                         function element_in_scroll(elem)
                         {
                            var docViewTop = $(window).scrollTop();
                            var docViewBottom = docViewTop + $(window).height();
                            var elemTop = $(elem).offset().top;
                            var elemBottom = elemTop + $(elem).height();
                            return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));
                         }
                        (function($, window, undefined) {
                            var InfiniteScroll = function() {
                                this.initialize = function() {
                                    this.setupEvents();
                                };

                                this.setupEvents = function() {
                                    $(window).on(
                                        'scroll',
                                        this.handleScroll.bind(this)
                                    );
                                };

                                this.handleScroll = function() {
                                    var scrollTop = $(document).scrollTop();
                                    var windowHeight = $(window).height();
                                    var height = $(document).height() - windowHeight;
                                    var scrollPercentage = (scrollTop / height);

                                    // if the scroll is more than 90% from the top, load more content.
                                    if(scrollPercentage > 0.95) {
                                        this.doSomething();
                                    }
                                }

                                this.doSomething = function() {
                                    // Do something.
                                    // Load data or whatever.
                                    if ($('#prof-wall').hasClass("in")){
                                        var postLen = $(".wallPosts").length;
                                        if ($(".wallPosts").length > 0 && IDArray.length > 5){
                                            var postArr=[];
                                            for (i=(IDArray.length-postLen-1); i >= Math.max(0,(IDArray.length-postLen-3)); i--){
                                                postArr.push(IDArray[i]);
                                            }
                                        
                                    if (flag == 1){
                                        flag=0;
                                         $.ajax({
                                            type: 'GET',
                                            url: 'http://ustart.today:'+port+'/AjaxLoadEntryArr/',
                                            contentType: "application/json; charset=utf-8",
                                            data: {postIndex:JSON.stringify(postArr)},
                                            success: function(data) {   
                                            },complete: function (jqXHR,status) {
                                                 flag=1;
                                                 if(status == 'success' || status=='notmodified')
                                                 {
                                                    var temp = $.parseJSON(jqXHR.responseText);
                                                    if (temp != null){
                                                        for (i=0; i < temp.length ; i++){
                                                                if (temp[i].Element.Classification == 2){
                                                                   if ((permission != -1 && userID == temp[i].Element.PosterID)|| (permission == 1) || (permission ==0)){createSharedPost(temp[i].Image,temp[i].FirstName,temp[i].LastName,temp[i].ElementID,temp[i].Element.Content,temp[i].ReferenceElement.Element.Content,temp[i].ReferenceElement.FirstName,temp[i].ReferenceElement.LastName,temp[i].NumLikes, temp[i].NumReplies,temp[i].ReferenceElement.Element.TimeStamp, temp[i].Element.TimeStamp );}
                                                                    else{
                                                                        createBasicSharedPost(temp[i].Image,temp[i].FirstName,temp[i].LastName,temp[i].ElementID,temp[i].Element.Content,temp[i].ReferenceElement.Element.Content,temp[i].ReferenceElement.FirstName,temp[i].ReferenceElement.LastName,temp[i].NumLikes, temp[i].NumReplies,temp[i].ReferenceElement.Element.TimeStamp, temp[i].Element.TimeStamp );
                                                                    }
                                                                }
                                                                else if (temp[i].Element.Classification == 0){
                                                                     if ((permission != -1 && userID == temp[i].Element.PosterID)|| (permission == 1) || (permission ==0)){
                                                                     makePostApplications(temp[i].Image, temp[i].FirstName,temp[i].LastName,temp[i].Element.Content,temp[i].ElementID,temp[i].NumLikes, temp[i].NumReplies, temp[i].NumShares,temp[i].Element.TimeStamp);
                                                                     }
                                                                    else{
                                                                        makeBasicPostApplications(temp[i].Image, temp[i].FirstName,temp[i].LastName,temp[i].Element.Content,temp[i].ElementID,temp[i].NumLikes, temp[i].NumReplies, temp[i].NumShares,temp[i].Element.TimeStamp);
                                                                    }
                                                                }
                                                                if ($(".wallPosts").length < IDArray.length) {
                                                                    $('#wall-dataF').append('<hr>');
                                                                }
                                                        }
                                                        postArr=[];
                                                    }
                                                 }
                                            },error: function(err) {
                                                console.log('wall Load failed: ');
                                                console.log(err);
                                            }
                                        });
                                    }
                                    }
                                }
                                }

                                this.initialize();
                            }

                            $(document).ready(function() {// Initialize scroll
                                    new InfiniteScroll();
                            });
                        })(jQuery, window);
                     </script>
                    <div id="prof-wall" class="tab-pane fade">
                        <div class="grid">
                            <!-- main Modal -->
                             <div id="main">
                                <div id= "commentModals" role="dialog"> </div>
                                <div id= "shareModals" role="dialog"> </div>
                                <div id= "deleteModals" role="dialog"> </div>
                                <div id= "editModals" role="dialog"> </div>
                                 {{range $member := .Project.MemberData}}
					               {{if eq $userid $member.DocID}}
                                <!-- new post panel-->
                                <div class="panel panel-default">
                                    <div class="panel-body">
                                        <div class="media">
                                            <a class="pull-left" href="#">
                                                <img id="new-post-img" class="media-object img-rounded" src="">
                                            </a>
                                            <div class="media-body">
                                                <div class="form-group">
                                                   <!-- <form id="New-Post-Form" method="POST" action="http://ustart.today:'+port+'/New/Post/" > -->
                                                        <textarea class="form-control" id="post-msg" name="block" style="resize:none;" placeholder="Share what's new"></textarea>
                                                        <br>
                                                        <button id="new-postSubmit" type="submit" class="btn btn-primary pull-right">Post</button>
                                                <!--    </form> -->
                                                </div>
                                            <!--    <button id="new-postSubmit" class="btn btn-primary pull-right">Post</button> -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {{end}}
                                {{end}}
                                <!-- end new post -->
                            <div id="wallNewPost"></div>
                            <div class = "panel panel-default" id="wall-dataF"></div>
                            </div> <!--end main-->
                            </div>
                            <!-- end grid -->
                    </div> 
                    <div id="proj-team" class="tab-pane panel panel-default panel-body fade">
						{{range $member := .Project.MemberData}}
                        <a class="member" href="/profile/{{$member.Username}}">
                                <img id="img{{$member.Username}}" class="img-circle img-responsive">
                                <div class="member-name">{{$member.FirstName}} {{$member.LastName}}</div>
								<script>
									$('img#img{{$member.Username}}').attr('src', {{$member.Image}});
								</script>
								<!--
                                <div class="member-title">C.E.O.</div>
                                <div class="member-followers">888 Followers</div>
                                <div class="member-projects">25 Projects</div>
								-->
                        </a>
						{{end}}
                    </div>
                    <div id="modal-box">
                        <script type="text/javascript">
                            $('#menu-item-about').hover(function () {
                                $(this).fadeOut(100);
                                $(this).fadeIn(100);
                                $("#box").text("About");
                                $("#box").css('max-width', '30em');
                            }, function () {
                                $("#box").css('max-width', '0');
                            });
                            $('#menu-item-proj').hover(function () {
                                $(this).fadeOut(100);
                                $(this).fadeIn(100);
                                $("#box").text("Projects");
                                $("#box").css('max-width', '30em');
                            }, function () {
                                $("#box").css('max-width', '0');
                            });
                            $('#menu-item-link').hover(function () {
                                $(this).fadeOut(100);
                                $(this).fadeIn(100);
                                $("#box").text("Links");
                                $("#box").css('max-width', '30em');
                            }, function () {
                                $("#box").css('max-width', '0');
                            });
                            $('#menu-item-tags').hover(function () {
                                $(this).fadeOut(100);
                                $(this).fadeIn(100);
                                $("#box").text("Tags");
                                $("#box").css('max-width', '30em');
                            }, function () {
                                $("#box").css('max-width', '0');
                            });
                            $('#menu-item-message').hover(function () {
                                $(this).fadeOut(100);
                                $(this).fadeIn(100);
                                $("#box").text("Message");
                                $("#box").css('max-width', '30em');
                            }, function () {
                                $("#box").css('max-width', '0');
                            });
                        </script>
                        <!-- MODALS -->
                        <!-- edit modal -->
                        <div class="modal fade" id="EditModal" role="dialog">
                            <div class="modal-dialog">
                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Edit Post</h4>
                                    </div>
                                    <div class="modal-body">
                                        <div class="media">
                                            <a class="pull-left" href="#">
                                                <img class="media-object img-rounded" src="https://scontent-lga3-1.xx.fbcdn.net/v/t31.0-8/12514060_499384470233859_6798591731419500290_o.jpg?oh=329ea2ff03ab981dad7b19d9172152b7&oe=5A2D7F0D" alt="64x64">
                                            </a>
                                            <div class="media-body">
                                                <div class="form-group">
                                                    <form id="Edit-Post-Form">
                                                        <textarea class="form-control" id="post-msg" style="resize:none;" placeholder=""></textarea>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button id="edit-postSubmit" class="btn btn-primary pull-right">Post</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- end edit modal -->
                        <!-- About Modal  -->
                        <div class="modal fade" id="aboutModal" role="dialog">
                            <div class="modal-dialog">
                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">About</h4>
                                    </div>
                                    <div class="modal-body">
                                        <div class="about-container">
                                            <table class="table">
                                                <tbody>
                                                    <tr>
                                                        <th class="no-border-top" scope="row">Name</th>
                                                        <td class="no-border-top"><span id="full-name">Ryan Rozbiani</span></td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Location</th>
                                                        <td><span id="locat">New York City, New York, United States</span></td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">College</th>
                                                        <td><span id="college">New York University</span></td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Class</th>
                                                        <td><span id="class">Undergraduate</span></td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Major</th>
                                                        <td><span id="major">Computer Engineering</span></td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Birthday</th>
                                                        <td><span id="dob">April 5, 1995</span></td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Phone</th>
                                                        <td><span id="phone-num">(877)-393-4448</span></td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">E-mail</th>
                                                        <td><span id="email">rr2396@nyu.edu</span></td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Gender</th>
                                                        <td><span id="gender">Male</span></td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Account Created</th>
                                                        <td><span id="date-start">June 23, 2017</span></td>
                                                    </tr>
                                                    <tr>
                                                        <th scope="row">Full Description</th>
                                                        <td>
                                                            <span id="desc">
                                                                something something
                                                            </span>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-info" data-dismiss="modal">Cancel</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Tag Modal -->
						<div class="modal fade" id="tagModal" role="dialog">
							<div class="modal-dialog">
								<!-- Modal content-->
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Skills</h4>
									</div>

									<div class="modal-body">
										<div id="hashtags" class="form-group">You haven't added any tags yet.</div>
										<hr/>
										<input class="form-control" type="text" id="tagLineInput" name="tagInput" placeholder="Type to add tags" autofocus required />
										<input class="projectWidget" class="form-control" name="projectWidget" type="hidden" value="{{.Project.DocID}}" required/>
									</div>
									<div class="modal-footer">
										<span class="pull-left" id="tagCountIndicator">16 Tags Remaining</span>
										<button type="button" id="tag-project-submit" class="btn btn-info btn-done">Done</button>
									</div>  
								</div>
							</div>
						</div>
						<!-- Youtube Modal -->
						<div class="modal fade" id="youtubeModal" role="dialog">
							<div class="modal-dialog">
								<!-- Modal content-->
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Youtube</h4>
									</div>
									<form id="customYoutubeForm" action="/addProjectWidget/" method="POST">
										<div class="modal-body">
											 <label>Please paste the Youtube URL here</label>
											<input id="youtubeLink" class="form-control" name="ytInput" placeholder="Youtube URL" autofocus required />
											<input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
											<input class="projectWidget" class="form-control" name="projectWidget" type="hidden" value="{{.Project.DocID}}" required/>
										</div>
										<div class="modal-footer">
											<button type="submit" class="btn btn-info btn-done" name="widgetSubmit" value="6" >Done</button>
										</div>
									</form>
								</div>
							</div>
						</div><!--end youtube Modal -->
						<!--text modal-->
						<div class="modal fade" id="customTextModal" role="dialog">
							<div class="modal-dialog">
								<!-- Modal content-->
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Edit Custom Text</h4>
									</div>
									<form id="customTextForm" action="/addProjectWidget/" method="POST">
										<div class="modal-body">
											<label>Custom Header</label>
											<input id="customHeader"  name="customHeader" class="form-control" type="text" placeholder="Header" autofocus required/>
											<label>Custom Content</label>
											<textarea id="customContent" name="customContent" required></textarea>
											<input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
											<input class="projectWidget" class="form-control" name="projectWidget" type="hidden" value="{{.Project.DocID}}" required/>
										</div>
										<div class="modal-footer">
											<button type="submit" name="widgetSubmit" value="0" class="btn btn-info btn-done"> Done</button>
										</div>
									</form>
								</div>
							</div>
						</div><!-- end text modal-->
						<!-- instagram modal -->
						<div class="modal fade" id="ig-modal" role="dialog">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Embed Instagram Posts</h4>
									</div>
									<form id="customInstagramForm" action="/addProjectWidget/" method="POST">
										<div class="modal-body">
											<span id="ig-list-title">Removable Instagram posts</span>
											<ul id="ig-edit-list"></ul>
											<label>Please paste the Instagram post URL here</label>
											<input type="url" class="form-control" name="instagramInput" id="ig-embed-input" placeholder="https://www.instagram.com/p/BageGbgD05c/" pattern="https?:\/\/www\.instagram\.com\/p\/[A-Za-z\-\_]{10}\/*+" required/>
											<input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
											<input class="projectWidget" class="form-control" name="projectWidget" type="hidden" value="{{.Project.DocID}}" required/>
										</div>
										<div class="modal-footer">
											<button type="submit" id="ig-submit-btn" name="widgetSubmit" value="4" class="btn btn-default">Done</button>
										</div>
									</form>
								</div>
							</div>
						</div> <!--end instagram modal-->
						<!--sound cloud widget-->
						  <div class="modal fade" id="sc-modal" role="dialog">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Embed Soundclouds</h4>
									</div>
									<form id="customSoundcloudForm" action="/addProjectWidget/" method="POST">
									<div class="modal-body">
										<p>Insert the Soundcloud Embed Code here:</p>
										<div class="form-group">
											<input type="text" class="form-control" id="sc-embed-input" name="scInput" placeholder="Embedded code" pattern='<iframe width="100%" height="450" scrolling="no" frameborder="no" allow="autoplay" src="https:\/\/w\.soundcloud\.com\/player\/\?url=https%3A\/\/api\.soundcloud\.com\/users\/[0-9]{9}&amp;color=%23[0-9a-f]{6}&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;show_teaser=true"\>\<\/iframe\>' required>
											<input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
											<input class="projectWidget" class="form-control" name="projectWidget" type="hidden" value="{{.Project.DocID}}" required/>
										</div>
									</div>
									<div class="modal-footer">
										<button type="submit" class="btn btn-info btn-done" id="sc-submit-btn" name="widgetSubmit" value="5" class="btn btn-default">Done</button>
									</div>
									</form>
								</div>
							</div>
						</div><!--end soundcloud widget -->
						<!-- codepen widget -->
						 <div class="modal fade" id="code-modal" role="dialog">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Embed CodePen</h4>
									</div>
									<form id="customCodePenForm" action="/addProjectWidget/" method="POST">
									<div class="modal-body">
										<p>Please paste the CodePen embed code in here:</p>
										<div class="form-group">
											<input type="text" class="form-control" id="code-embed-input" name="codepenInput" pattern='<p data-height="265" data-theme-id="0" data-slug-hash="[A-Za-z]{6}" data-default-tab="css,result" data-user="[^"]+" data-embed-version="2" data-pen-title="[^"]+" class="codepen"\>[^<]+\<a href="https:\/\/codepen\.io\/[^\/]+\/pen\/[A-Za-z]{6}\/">[^<]+<\/a> by [^(]+\(<a href="https:\/\/codepen\.io\/[^"]+">@[^<]+<\/a>\) on <a href="https:\/\/codepen\.io">CodePen<\/a>\.<\/p>\n<script async src="https:\/\/static\.codepen\.io\/assets\/embed\/ei\.js"><\/script>' required>
											<input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
											<input class="projectWidget" class="form-control" name="projectWidget" type="hidden" value="{{.Project.DocID}}" required/>
										</div>
									</div>
									<div class="modal-footer">
										<button type="submit" id="code-submit-btn" class="btn btn-info btn-done" name="widgetSubmit" value="7">Done</button>
									</div>
									</form>
								</div>
							</div>
						</div><!-- end codepen widget-->
						<!--twitch widget -->
						<div class="modal fade" id="twitch-modal" role="dialog">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Embed Twitch</h4>
									</div>
									<form id="customTwitchForm" action="/addProjectWidget/" method="POST">
										<div class="modal-body">
											<p>Put your Twitch username here to broadcast yourself whenever you stream live:</p>
											<div class="input-group">
												<div class="input-group-btn">
													<button id="twitch-setting" type="button" class="btn btn-secondary" aria-expanded="false">
														Username
													</button>
												</div>
												<input type="text" class="form-control" name="twitchInput" id="twitch-embed-username" required pattern='[0-9A-Za-z_]{1,25}'/>
												<input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
												<input class="projectWidget" class="form-control" name="projectWidget" type="hidden" value="{{.Project.DocID}}" required/>
											</div>
										</div>
										<div class="modal-footer">
											<button type="submit" id="twitch-submit-btn" class="btn btn-info btn-done" name="widgetSubmit" value="14">Done</button>
										</div>
									</form>
								</div>
							</div>
						</div> <!--end twitch widget -->
						<!-- tumblr widget -->
						<div class="modal fade" id="tumblr-modal" role="dialog">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Embed Tumblr</h4>
									</div>
									<form id="customTumblrForm" action="/addProjectWidget/" method="POST">
										<div class="modal-body">
											<p>Insert Tumblr Username here:</p>
											<div class="form-group">
												<input type="text" class="form-control" name="tumblrInput" id="medium-embed-input" placeholder="ustart" pattern='[A-Za-z0-9\-\.]{1,32}' required>
												<input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
											<input class="projectWidget" class="form-control" name="projectWidget" type="hidden" value="{{.Project.DocID}}" required/>
											</div>
										</div>
										<div class="modal-footer">
											<button type="submit" id="tumblr-submit-btn" class="btn btn-info btn-done" name="widgetSubmit" value="9">Done</button>
										</div>
									</form>
								</div>
							</div>
						</div> <!--end tumblr widget -->
						<!-- spotify widget -->
						<div class="modal fade" id="spot-modal" role="dialog">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Embed Spotify</h4>
									</div>
									<form id="customSpotifyForm" action="/addProjectWidget/" method="POST">
									<div class="modal-body">
										<span id="spot-list-title">Removable Spotify Sounds</span>
										<ul id="spot-edit-list"></ul>
										<p>Please paste the Spotify embed code in here:</p>
										<div class="form-group">
											<input type="text" class="form-control" name="spotInput" id="spot-embed-input" pattern='<iframe src="https:\/\/open\.spotify\.com\/embed\/[^"]+" width="300" height="380" frameborder="0" allowtransparency="true"><\/iframe>' required>
											<input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
											<input class="projectWidget" class="form-control" name="projectWidget" type="hidden" value="{{.Project.DocID}}" required/>
										</div>
									</div>
									<div class="modal-footer">
										<button type="submit" id="spot-submit-btn" class="btn btn-info btn-done" name="widgetSubmit" value="10">Done</button>
									</div>
									</form>
								</div>
							</div>
						</div> <!-- end spotify widget -->
						<!--pinterest Widget -->
						<div class="modal fade" id="pin-modal" role="dialog">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Embed Pinterest</h4>
									</div>
									<div class="modal-body">
										<span id="pin-list-title">Removable Pins</span>
										<ul id="pin-edit-list"></ul>
										<p>Please paste your Pinterest Profile URL here:</p>
										<form id="customPinterestForm" action="/addProjectWidget/" method="POST">
										<div class="form-group">
											<input type="text" class="form-control" id="pin-embed-input" name="pinInput" placeholder="http://www.pinterest.com/pinterest/" pattern='https:\/\/www\.pinterest\.com\/.+\/' required>
											<!-- Regexp: pin\/([0-9A-Za-z\-_]{87}|[0-9A-Za-z\-_]{55}|[0-9]{18})\/? -->
											<input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
											<input class="projectWidget" class="form-control" name="projectWidget" type="hidden" value="{{.Project.DocID}}" required/>
										</div>
										 </form>
									</div>
									<div class="modal-footer">
										<button type="submit" id="pin-submit-btn" class="btn btn-info btn-done" form="customPinterestForm" name="widgetSubmit" value="8">Done</button>
									</div>
									
								</div>
							</div>
						</div> <!--end pinterest widget-->
						<!-- link modal-->
						<div class="modal fade" id="addLinkModal" role="dialog">
							<div class="modal-dialog">
								<!-- Modal content-->
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Add Link</h4>
									</div>
									
										<div class="modal-body">
											<p>
												<span class="modal-cell">Title</span>
												<input type="text" class="link-input-read" name="webTitle" placeholder="example: 'My LinkedIn'" spellcheck="false" required autofocus />
											</p>
											<p>
												<span class="modal-cell">URL</span>
												<input type="url" class="link-input-read" name="webURL" placeholder="example: 'https://www.linkedin.com'" spellcheck="false" required/>
											</p>
											<input type="hidden" name="projectID" value="{{.Project.DocID}}" required/>
										</div>
										
										<div class="modal-footer">
											<div class="numLinks">
												<span id="linkCountIndicator"></span>
											</div>
											<button type="submit" id="link-project-submit-btn" class="btn btn-info btn-done">Done</button>
										</div>
								</div>
							</div>
						</div><!-- end linkmodal-->
						<!-- anchor modal-->
						<div class="modal fade" id="ar-modal" role="dialog">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Embed Anchors</h4>
									</div>
									<div class="modal-body">
										<span id="ar-list-title">Removable Anchors</span>
										<ul id="ar-edit-list"></ul>
										<p>Insert the Anchor URL:</p>
										<form id="customArForm" action="/addProjectWidget/" method="POST">
										
										<div class="form-group">
											<input type="text" class="form-control" name="arInput" id="ar-embed-input" pattern='https:\/\/anchor\.fm\/.*\/+' required>
											<input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
											<input class="projectWidget" class="form-control" name="projectWidget" type="hidden" value="{{.Project.DocID}}" required/>
										</div>
										</form>
									</div>
									<div class="modal-footer">
										 <button type="submit" id="ar-submit-btn" class="btn btn-info btn-done" form="customArForm" name="widgetSubmit" value="11">Done</button>

									</div>
								</div>
							</div>
						</div> <!--end anchor modal-->
						<!--medium modal-->
						<div class="modal fade" id="med-modal" role="dialog">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Embed Medium</h4>
									</div>
									<div class="modal-body">
										<p>Enter Your Medium username:</p>
										<form id="customMedForm" action="/addProjectWidget/" method="POST">
											<p>Select a Medium import option, either your username, or your publication name</p>
											<div class="input-group">
												<div class="input-group-btn">
													<button id="med-setting" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
														Username <i class="glyphicon glyphicon-menu-down"></i>
													</button>
													<div class="dropdown-menu">
														<a id="med-setting-user" class="dropdown-item" style="display:block;">Username</a>
														<a id="med-setting-pub" class="dropdown-item" style="display:block;">Publication</a>
													</div>
												</div>
												<input type="text" class="form-control" name="medInput" id="med-embed-username" pattern='[0-9A-Za-z\-]{1,32}'/>
												<input type="text" class="form-control" name="medInput2" id="med-embed-publication"/>
											<input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
											<input class="projectWidget" class="form-control" name="projectWidget" type="hidden" value="{{.Project.DocID}}" required/>
												
											</div>
											<br/>
											<div class="input-group">
												<span class="input-group-addon">Publication Tag</span>
												<input type="text" class="form-control" name="medInput3" id="med-embed-tag" disabled placeholder="(Optional)"/>
											</div>
											<br/>
											<div class="input-group">
												<span class="input-group-addon">Article Count</span>
												<input type="number" class="form-control" name="medInput4" id="med-count" min='1' max='12' value='4'/>
											</div>
										</form>
									</div>
									<div class="modal-footer">
										<button type="submit" id="ar-submit-btn" class="btn btn-info btn-done" form="customMedForm" name="widgetSubmit" value="12">Done</button>

									</div>
								</div>
							</div>
						</div> <!--end medium-->
						<!-- deviant art modal-->
						<div class="modal fade" id="da-modal" role="dialog">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Embed DeviantArt</h4>
									</div>
									<div class="modal-body">
										<p>Put your DeviantArt username here to share your newest deviations:</p>
										<form id="customDaForm" action="/addProjectWidget/" method="POST">
										
										<div class="input-group">
											<div class="input-group-btn">
												<button id="da-setting" type="button" class="btn btn-secondary" aria-expanded="false">
													Username
												</button>
											</div>
											<input type="text" class="form-control" name="daInput" id="da-embed-username" required/>
											<input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
											<input class="projectWidget" class="form-control" name="projectWidget" type="hidden" value="{{.Project.DocID}}" required/>
											
										</div>
										<br/>
										<div class="input-group">
											<span class="input-group-addon">Article Count</span>
											<input type="number" class="form-control"  name="daInput2" id="da-count" min='1' max='12' value='4'/>
										</div>
										</form>
									</div>
									<div class="modal-footer">
										 <button type="submit" id="da-submit-btn" class="btn btn-info btn-done" form="customDaForm" name="widgetSubmit" value="13">Done</button>
									</div>
								</div>
							</div>
						</div>
						<!-- calendar modal -->
						<div class="modal fade" id="cal-modal" role="dialog">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">&times;</button>
										<h4 class="modal-title">Embed Google Calendar</h4>
									</div>
									<div class="modal-body">
										<span id="cal-list-title">Removable cals</span>
										<ul id="cal-edit-list"></ul>
										<form id="customCalForm" class="form-group" action="/addWidget/" method="POST">
											<label for="gCalEmbed">Share your Google Calendar here:</label>
											<input type="text" id="gCalEmbed" class="form-control" name="gCalEmbed" placeholder="Your Google Calendar Link"
												pattern="(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$)|((<iframe src=\x22)?https:\/\/calendar\.google\.com\/calendar\/((embed)|(htmlembed))\?src=.*)" required/>
											<label for="gCalEmbed">
												<div>
													<span>Example:</span>
													<i>Your Calendar ID: example@gmail.com</i>
													<i>https://calendar.google.com/calendar/embed?src= Your Calendar ID</i>
												</div>
											</label>
											<input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
										</form>
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
										<button type="submit" id="cal-submit-btn" class="btn btn-primary" form="customCalForm" name="widgetSubmit" value="15">Submit</button>
									</div>
								</div>
							</div>
						</div> 
                        <!-- github modal -->
                        <div class="modal fade" id="git-modal" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Embed Github</h4>
                                    </div>
                                    <div class="modal-body">
                                        <form id="customGitForm" class="form-group" action="/addWidget/" method="POST">
                                            <label for="git-embed-username"><p>Put your Github username here to publish your code:</p></label>
                                            <div class="input-group">
                                                <div class="input-group-btn">
                                                    <button id="git-setting" type="button" class="btn btn-secondary" aria-expanded="false">
                                                        Username
                                                    </button>
                                                </div>
                                                <input type="text" class="form-control" id="git-embed-username" name="username"/>
                                            </div>
                                            <br/>
                                            <div class="input-group">
                                                <span class="input-group-addon">Shown Projects Count</span>
                                                <input type="number" class="form-control" id="git-count" min='1' max='12' value='4'/>
                                            </div>
                                            <input id="editID" class="form-control" name="editID" type="hidden" value="0" required/>
                                        </form>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                        <button type="submit" id="git-submit-btn" class="btn btn-primary" form="customGitForm" name="widgetSubmit" value="15">Submit</button>
                                    </div>
                                </div>
                            </div>
                        </div>
						<!-- insert modal -->

                        <div id="project-member-add" class="modal fade" role="dialog">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title">Add Member to Project</h4>
                                    </div>
                                    <div class="modal-body">
                                        <label for="project-member-add">Add Member</label>
                                        <div class="input-group">
                                            <input class="form-control" name="project-member-add" type="text" autocomplete="off" />
                                            <div class="input-group-btn">
                                                <button class="btn btn-default project-member-adder" type="submit" disabled>
                                                    <i class="fa fa-user-plus"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <script type="text/javascript">
                            var usersToAdd = new Array("A Ryan", "B Ryan", "C Ryan", "D Ryan", "E Ryan", "F Ryan", "G Ryan", "H Ryan", "I Ryan", "J Ryan", "K Ryan", "L Ryan", "M Ryan", "N Ryan", "O Ryan", "P Ryan", "Q Ryan", "R Ryan", "S Ryan", "T Ryan", "U Ryan", "W Ryan", "X Ryan", "Y Ryan", "Z Ryan");
                            $(document).ready(function () {
                                $("input[name='project-member-add']").autocomplete({
                                    source: function (request, response) {
                                        var results = $.ui.autocomplete.filter(usersToAdd, request.term);
                                        response(results.slice(0, 10));
                                    },
                                    select: function (event, ui) {
                                        $('.project-member-adder').attr('disabled', false);
                                    }
                                });
                                $('.project-member-adder').click(function () {
                                    if (usersToAdd.indexOf($("input[name='project-member-add']").val()) < 0) {
                                        alert('Invalid User');
                                    } else {
                                        loadMembers($("input[name='project-member-add']").val());
                                        $('#project-member-add').modal('hide');
                                        $('.proj-tabs a[href="#proj-team"]').tab('show');
                                    }
                                });
                            });
                        </script>
                        <style>
                            .ui-autocomplete {
                                z-index: 30000 !important;
                            }
                        </style>
                    </div>
                    <!-- end content -->
                </div>
            </div>
        </div>
    </div>
    <script src="/ustart_front/js/fadebody.js"></script>
	<script>
		console.log("Project DOCID: " + {{.Project.DocID}});
	</script>
</body>

</html>