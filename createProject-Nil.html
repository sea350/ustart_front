<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>UStart Create Project</title>
    <link rel="stylesheet" href="/ustart_front/css/layout1.css">
    <link rel="stylesheet" href="/ustart_front/css/register.css">
    <script src="https://npmcdn.com/tether@1.2.4/dist/js/tether.min.js"></script>
    <script src="https://www.google.com/recaptcha/api.js"></script>
    <script type="text/javascript" src="/ustart_front/js/zxcvbn.js"></script>
    <script type="text/javascript" src="/ustart_front/js/createProject.js"></script>
    <script type="text/javascript" src="/ustart_front/js/universities.js"></script>
    <script type="text/javascript" src="/ustart_front/js/categories.js"></script>
    <script type="text/javascript" src="/ustart_front/js/countries.js"></script>
</head>
<body>
    <div id="centering" style="top: 6em;">
         <div id="content">
                {{ if .ErrorOutput }}
                <div id="dup-email-alert" class="alert alert-danger alert-dismissible fade in" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                    <strong>Oops! Here's an error: {{.ErrorOutput}}</strong>
                </div>
				{{end}}             
            <div class="container col-md-8 col-md-offset-2" >

                <form class="form-signup" id="projectCreateForm" action="/CreateProjectPage/" method="post">
                    <h2 style="padding:0; text-align: center;">Create A Project</h2>
                    <!-- Name -->
                    <div class="row">
                        <div class="dropdown col-md-8">
                            <div class="input-group">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-folder-open"></i></span>
                                    <input type="text" id="fName" name="project_title" class="form-control" placeholder="Title of Project" required>
                            </div> 
                        </div>
                        <div class="dropdown col-md-4">
                            <div class="input-group">
                                <span class="input-group-addon"><i class="glyphicon glyphicon-th"></i></span>
                                <select type="text" id="category" name="category" class="form-control" placeholder="Category" required>
                                <option></option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="dropdown col-md-8">
                            <div class="input-group">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-globe"></i></span>
                                    <input type="text" id="curl" name="curl" class="form-control" placeholder="Custom URL (ustart.today/example/)" pattern="[A-Za-z\d][\w\d-]+[A-Za-z\d]">
                            </div>
                            <span>Characters, Digits, Dashes, and Underscores Only. No Starting or Ending Symbols.</span>  
                        </div>

                        <div class="dropdown col-md-4">
                            <div class="input-group">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-education"></i></span>
                                    <input name="universityName" class="form-control" id="uni" placeholder="University/College" required>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="dropdown col-sm-3">
                            <select id="country" name="country" class="form-control" autocomplete="country-name"></select>
                        </div>
                        <div class="dropdown col-sm-3">
                            <select name="state" id="state" class="form-control" autocomplete="state"></select>
                        </div>
                        <script language="javascript">
							populateCountries("country", "state");
                        </script>
                        <div class="dropdown col-sm-3">
                            <input id="city" name="city" class="form-control" placeholder="City" autocomplete="city">
                        </div>
                        <div class="dropdown col-sm-3">
                            <input id="zip" name="zip" class="form-control" placeholder="Zip" autocomplete="postal-code">
                        </div>
                    </div>

                    <br/>
                    
                    <div class="row">
                        <div class="dropdown col-sm-12">
                            <label for="project_desc" class="sr-only">Project Description</label>
                            <textarea maxlength="1100" style="resize: none;" type="text" class="form-control" id="project_desc" name="project_desc" rows="4" placeholder="Please describe your project goal" required></textarea>
                        </div>
                    </div>

                    <div class="row">
                            <div class="col-md-4">
                                <button class="btn btn-danger btn-lg btn-block" id="back-button" onclick="window.history.back();"><i class="fa fa-angle-left" style="display: inline-block"></i> Back</button>
                            </div>
                            <div class="col-md-8">
                                <button type="submit" class="btn btn-lg btn-primary btn-block" value="Submit" name="send" id="finished" style="display: inline-block">Continue</button>
                                <script>
                                    $('form#projectCreateForm').submit(function(){
                                        $("button#finished").prop('disabled', true);
                                    });
                                </script>
                            </div>
                    </div>
                    <br>
                </form>
                <script>
                    list_categories('category');
				</script>
            </div>
        </div>
    </div>
    <footer id="foot"></footer>

    <script>
            $(document).ready(function(){
                $('#fName').focus(function(){
                    $(this).attr({'value':'ustart.today/projects/'})
                });
                $('#curl').focus(function(){
                    $(this).attr({'value':'ustart.today/'})
                });
                $("#uni").autocomplete({
                    source: function(request, response) {
                        var results = $.ui.autocomplete.filter(universities, request.term);
                        response(results.slice(0, 10));
                    }
                });                           
            });
        </script>    
</body>

</html>
